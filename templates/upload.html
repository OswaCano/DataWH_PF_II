<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Minería de Datos - Cargar Dataset</title>
  <style>
    body { font-family: system-ui, Arial; margin: 2rem; }
    form { display: grid; gap: 1rem; max-width: 640px; }
    .row { display: flex; gap: 1rem; align-items: center; }
    .help { color: #555; font-size: 0.9rem; }
    .error { color: #b00020; margin-top: 1rem; }
    button { padding: 0.6rem 1rem; }
  </style>
</head>
<body>
  <h1>Evaluación de algoritmos de minería de datos</h1>
  <p class="help">
    Sube un archivo CSV o indica una URL, define la columna objetivo y el tipo de problema.
    El sistema hará ETL, entrenará 3 modelos y mostrará las gráficas de desempeño.
  </p>

  <form action="/process" method="post" enctype="multipart/form-data">
    <div class="row">
      <label for="file">Archivo CSV:</label>
      <input type="file" id="file" name="file" accept=".csv">
    </div>

    <div class="row">
      <label for="url">o URL del CSV:</label>
      <input type="url" id="url" name="url" placeholder="https://.../data.csv" style="flex: 1;">
    </div>

    <div class="row">
      <label for="target">Columna objetivo:</label>
      <input type="text" id="target" name="target" placeholder="ej. calificacion, estrellas" required>
    </div>

    <div class="row">
      <label for="problem_type">Tipo de problema:</label>
      <select id="problem_type" name="problem_type" required>
        <option value="regression">Regresión</option>
        <option value="classification">Clasificación</option>
      </select>
    </div>

    <button type="submit">Procesar</button>

    {% if error %}
    <div class="error">{{ error }}</div>
    {% endif %}
  </form>
</body>
</html>
